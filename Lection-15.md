# Доп. лекция

## IPv6

* Зачем?
  * У IPv4 заканчивается адресное пространство
  * У IPv4 существует ряд недостатков

### Достоинства IPv6

* $2^{128}$ адресов
* SLAAC - механизм назначения адресов
* Нет broadcast-рассылок (хотя можено этого результата добиться с помощью multicast'а, но это крайне не рекомендуется
* Снижение размера маршрутных таблиц
  * за счет иерархической структуры адреса: регион -> провайдер -> сайт -> локальная сеть
* Оптимизация заголовка
  * В нем меньше полей
  * Фиксированный размер полей (т.к. нет опциональных полей. Но есть дополнительные заголовки)
* IPSec
* Расширенные возможности по дифференциации трафика (маркируем данные) - для того, чтобы более гибко рассылать трафик в зависимости от приоритета и требований
* Средства для сосуществования совместно с IPv4
  * Туннелирование IPv6 -> IPv4
  * NAT64

### Адресация

* 128-битный адрес
* Текстовое представление:
  * делится на 8 16-битных блоков, разделяется знаком ":"
  * нулевые блоки могут быть опущены (не более одной последовательности подряд идущих нулевых блоков)
  * *Пример*: `2001:04F8:0000:0000:0000:4380:009E:0001` -> `2001:4F8::4380:9E:1`
  * Последние октеты можно задавать в нотации IPv4

* Информация о префиксе (о подсети) - в нотации CIDR
* Типы адресации
  * Unycast
  * Multicast (есть отдельный сетевой диапазон)
  * Anycast (ближайший хост из группы)

### Multicast

* Больше scope'ов
* `FF02::1` - аналог broadcast (не рекомендуется к использованию)

### ICMPv6

* заменяет ARP с помощью Neighbor Discovery
* заменяет IGMP с помощью Multicast Membership Reporting

### SLAAC

* автоконфигурация адресов
* для назначения канального персонального адреса
* проверка дублирования адресов

### Также имеем:

* DHCPv6
* Поддержка DNS (AAAA-записи)
* Маршрутизация (RIPng и OSPFv3)
* TCPv6 и UDPv6
